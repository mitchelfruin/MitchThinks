<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="Mitchel Fruin">
    <meta name="description" content="Mitchel Fruin&#39;s personal website">
    <meta name="keywords" content="blog,data science,personal">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Agent-based modelling: lizards &amp; rock, paper, scissors."/>
<meta name="twitter:description" content="Rock Paper Scissors   NEED TO UPDATE WITH MY CODE, THIS IS SOMEONE ELSE’S. JUST A PLACEHOLDER.
Rock Paper Scissors In this second example we are going to use the same game, but this time several individuals will play against each other. To make it more interesting individuals are organised on a lattice network. Thus, they can only play with their direct neighbors. If they lose, they have to take over the strategy of the winner and vice versa."/>

    <meta property="og:title" content="Agent-based modelling: lizards &amp; rock, paper, scissors." />
<meta property="og:description" content="Rock Paper Scissors   NEED TO UPDATE WITH MY CODE, THIS IS SOMEONE ELSE’S. JUST A PLACEHOLDER.
Rock Paper Scissors In this second example we are going to use the same game, but this time several individuals will play against each other. To make it more interesting individuals are organised on a lattice network. Thus, they can only play with their direct neighbors. If they lose, they have to take over the strategy of the winner and vice versa." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/interests/data_science/agent-based-modelling-lizards-rock-paper-scissors/" />
<meta property="article:published_time" content="2019-08-10T00:00:00+00:00" />
<meta property="article:modified_time" content="2019-08-10T00:00:00+00:00" />


    
      <base href="/interests/data_science/agent-based-modelling-lizards-rock-paper-scissors/">
    
    <title>
  Agent-based modelling: lizards &amp; rock, paper, scissors. · MitchThinks
</title>

    
      <link rel="canonical" href="/interests/data_science/agent-based-modelling-lizards-rock-paper-scissors/">
    

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="/css/coder.min.28d751104f30c16da1aa1bb04015cbe662cacfe0d1b01af4f2240ad58580069c.css" integrity="sha256-KNdREE8wwW2hqhuwQBXL5mLKz&#43;DRsBr08iQK1YWABpw=" crossorigin="anonymous" media="screen" />
    

    

    

    

    
    
    <link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

    <meta name="generator" content="Hugo 0.56.3" />
  </head>

  <body class=" ">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">
      MitchThinks
    </a>
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="/about/">About</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="/books/">Books</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="/interests/">Interests</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="/contact/">Contact me</a>
          </li>
        
      
      
    </ul>
  </section>
</nav>

<link href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">

      <div class="content">
        
  <section class="container page">
  <article>
    <header>
      <h1>Agent-based modelling: lizards &amp; rock, paper, scissors.</h1>
    </header>

    

<div id="TOC">
<ul>
<li><a href="#rock-paper-scissors">Rock Paper Scissors</a></li>
</ul>
</div>

<p>NEED TO UPDATE WITH MY CODE, THIS IS SOMEONE ELSE’S. JUST A PLACEHOLDER.</p>
<div id="rock-paper-scissors" class="section level2">
<h2>Rock Paper Scissors</h2>
<p>In this second example we are going to use the same game, but this time several individuals will play against each other. To make it more interesting individuals are organised on a lattice network. Thus, they can only play with their direct neighbors. If they lose, they have to take over the strategy of the winner and vice versa. This can also be seen as a very simple example of an evolutionary process.</p>
<pre class="r"><code># size of the lattice
sidelength&lt;-10 
# creating an empty data.frame to store data
stat&lt;-data.frame()
# creating a lattice network using the igraph package
l&lt;-graph.lattice(length=sidelength,dim=2)
# now every individual chooses a strategy at random
V(l)$weapon&lt;-sample(c(1:3), size=length(V(l)), replace=T)
# for a nicer visualisation lets colour the different options
V(l)[weapon==1]$color&lt;-&#39;blue&#39; # Paper
V(l)[weapon==2]$color&lt;-&#39;yellow&#39; # Scissors
V(l)[weapon==3]$color&lt;-&#39;green&#39; # Rock
# and this is what it looks like:
plot(l, layout=as.matrix(expand.grid(1:sidelength, 1:sidelength)), vertex.label=NA)</code></pre>
<p><img src="/interests/data_science/2019-08-10-agent-based-modelling-lizards-rock-paper-scissors_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
<pre class="r"><code>for(t in 1:1000){
    # pick a random agent ...
    from &lt;- as.numeric(sample(V(l), 1)) # or sample(sidelength^2,1)
    # who are its neighbours?
    nei&lt;-neighbors(l, v=from, mode=&#39;all&#39;)
    
    # if there is only one weapon type left
    if(length(unique(V(l)$weapon))==1) {
        # we can either stop the simulation
        stop(paste(c(&#39;Paper&#39;,&#39;Scissors&#39;,&#39;Rock&#39;)[unique(V(l)$weapon)], &#39;has won the game after&#39;,t,&#39;rounds!&#39;))
        # or we let the selected individual choose a different strategy to let the dynamics go on
        # V(l)$weapon[from]&lt;-sample((1:3)[1:3!=as.numeric(V(l)$weapon[from])], 1)
    } else {
        # ... and one of its neighbours
        to &lt;- sample(nei, 1) 
        fromto&lt;-c(from,to)
        w&lt;-as.numeric(V(l)$weapon[fromto])
        # if both choices are equal, nothing happens:
        if(w[1]==w[2]) {} else{ 
            # in the case that one chooses Rock and the other Paper, Paper wins:
            if(max(w) == 3 &amp;&amp; min(w) ==1) { 
                V(l)$weapon[fromto[w==3]] &lt;- &quot;1&quot; 
            } 
            else{
                # for the two other cases, the better weapon wins:
                V(l)$weapon[fromto[w==min(w)]] &lt;- V(l)$weapon[fromto[w==max(w)]]
            }
        } 
        
    }
    # let&#39;s record the individual abundance of each strategy
    stat&lt;-rbind(stat, c(sum(V(l)$&#39;weapon&#39;==&quot;1&quot;), sum(V(l)$&#39;weapon&#39;==&quot;2&quot;), sum(V(l)$&#39;weapon&#39;==&quot;3&quot;)))
    # plot(l, layout=as.matrix(expand.grid(1:sidelength, 1:sidelength)), vertex.label=NA)
}
names(stat)&lt;-c(&quot;Paper&quot;,&quot;Scissors&quot;,&quot;Rock&quot;)
s&lt;-melt(stat)</code></pre>
<pre><code>## No id variables; using all as measure variables</code></pre>
<pre class="r"><code>s$time&lt;-1:nrow(stat)
ggplot(data=s, mapping=aes(x=time, y=value, col=variable)) + geom_line() + theme_bw() </code></pre>
<p><img src="/interests/data_science/2019-08-10-agent-based-modelling-lizards-rock-paper-scissors_files/figure-html/unnamed-chunk-1-2.png" width="672" /></p>
</div>

  </article>
</section>


      </div>

      <footer class="footer">
  <section class="container">
    
      <p>A man must have (a) code.</p>
    
     © 2019
    
       · 
      Powered by <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
    
    
       · 
      [<a href="https://github.com/luizdepra/hugo-coder/tree/"></a>]
    
  </section>
</footer>

<script src="//yihui.name/js/math-code.js"></script>
<script async
src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js"></script>

<script>
hljs.configure({languages: []});
hljs.initHighlightingOnLoad();
</script>

    </main>

    

  </body>

</html>
